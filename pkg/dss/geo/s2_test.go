package geo

import (
	"testing"

	dspb "github.com/steeling/InterUSS-Platform/pkg/dssproto"
)

func TestGeoPolygonToCellIDs(t *testing.T) {
	got := GeoPolygonToCellIDs(&dspb.GeoPolygon{Vertices: []*dspb.LatLngPoint{
		// Stanford
		{
			Lat: 37.427636,
			Lng: -122.170502,
		},
		// NASA Ames
		{
			Lat: 37.408799,
			Lng: -122.064069,
		},
		// Googleplex
		{
			Lat: 37.421265,
			Lng: -122.086504,
		},
	}})

	want := []int64{9263817211305263104 9263824461210058752 9263824529929535488 9263824564289273856 9263827450507296768 9263827484867035136 9263827519226773504 9263827553586511872 9263827587946250240 9263827862824157184 9263827897183895552 9263827931543633920 9263827965903372288 9263828068982587392 9263828378220232704 9263828412579971072 9263828446939709440 9263828481299447808 9263828515659186176 9263828756177354752}
	if want != got {
		t.Errorf("want %v, got: %v", want, got)
	}
}
